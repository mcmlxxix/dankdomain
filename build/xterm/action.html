<!doctype html>
<html>
<head>
<title>Dank Domain: Action</title>
<link href='https://fonts.googleapis.com/css?family=Carter+One' rel='stylesheet'>
<style>
  body {
    text-align: center;
    background: antiquewhite;  /*  older browsers  */
    background: -webkit-linear-gradient(left top, gray, antiquewhite);  /*  safari 5.1 to 6.0  */
    background: -o-linear-gradient(bottom right, gray, antiquewhite);  /*  opera 11.1 to 12.0  */
    background: -moz-linear-gradient(bottom right, gray, antiquewhite);  /*  firefox 3.6 to 15  */
    background: linear-gradient(to bottom right, darkslategray, black);  /*  standard syntax (must be last)  */
    font-family: 'Carter One', cursive;
    font-size: 20px;
    color: aliceblue;
  }
  input, button {
    background: antiquewhite;
    background-image: -webkit-linear-gradient(top, cornsilk, darkkhaki);
    background-image: -moz-linear-gradient(top, cornsilk, darkkhaki);
    background-image: -ms-linear-gradient(top, cornsilk, darkkhaki);
    background-image: -o-linear-gradient(top, cornsilk, darkkhaki);
    background-image: linear-gradient(to bottom, cornsilk, darkkhaki);
    -webkit-border-radius: 12;
    -moz-border-radius: 12;
    border-radius: 12px;
    -webkit-box-shadow: 0px 1px 3px darkslategray;
    -moz-box-shadow: 0px 1px 3px darkslategray;
    box-shadow: 0px 1px 3px darkslategray;
    font-family: 'Carter One', cursive;
    font-size: 16px;
    color: midnightblue;
    padding: 8px 16px 8px 16px;
    border: solid darkolivegreen 3px;
    text-decoration: none;
  }
    .tall {
      padding: 20px 16px;
    }
    .wide {
      padding: 8px 24px;
    }
    .numeric {
      padding: 4px 24px 16px 6px;
    }
    .platinum {
        background: orchid;
        border: solid darkorchid 3px;
        color: indigo;
        font-size: 18px;
        padding: 8px 18px;
    }
    .gold {
        background: gold;
        border: solid darkgoldenrod 3px;
        color: goldenrod;
        font-size: 18px;
        padding: 8px 18px;
      }
    .silver {
        background: turquoise;
        border: solid darkturquoise 3px;
        color: steelblue;
        font-size: 18px;
        padding: 8px 18px;
      }
    .copper {
        background: coral;
        border: solid darkred 3px;
        color: crimson;
        font-size: 18px;
        padding: 8px 18px;
      }
  input:active, button:active {
    transform: translateX(3px) translateY(3px);
  }
  input:hover, button:hover {
      background: gold;
      background-image: -webkit-linear-gradient(top, gold, goldenrod);
      background-image: -moz-linear-gradient(top, gold, goldenrod);
      background-image: -ms-linear-gradient(top, gold, goldenrod);
      background-image: -o-linear-gradient(top, gold, goldenrod);
      background-image: linear-gradient(to bottom, gold, goldenrod);
      text-decoration: none;
      text-shadow: 1px 1px 2px darkslategray;
      border: solid olive 3px;
      color: aliceblue;
  }
    .platinum:hover {
      background: lightpink;
      border: solid darkorchid 3px;
      color: fuchsia;
      font-size: 20px;
    }
    .gold:hover {
      background: yellow;
      border: solid darkgoldenrod 3px;
      color: lightgoldenrodyellow;
      font-size: 20px;
    }
    .silver:hover {
      background: lightskyblue;
      border: solid darkturquoise 3px;
      color: lightsteelblue;
      font-size: 20px;
    }
    .copper:hover {
      background: lightcoral;
      border: solid darkred 3px;
      color: red;
      font-size: 20px;
    }
  table {
    border: none;
    border-spacing: 0px;
    padding: 0px;
  }
</style>
<script>
if (window.addEventListener) {
    window.addEventListener("message", receive, false);       
}
else {
    if (window.attachEvent) {
        window.attachEvent("onmessage", receive, false);
    }
}

function receive(event) {
  if (event.data) {
    if (event.data.func) {
      window[event.data.func]();
    }
  }
}

cancel = `<input class="wide" type="button" value="Cancel" onclick="send('\x15');">`;
enter = `<input class="wide" type="button" value="Enter" onclick="send('', true);">`;
quit = `<input class="wide" type="button" value="Quit" onclick="send('Q');">`;
logoff = `<input type="button" value="LOGOFF" onclick="send('\x1A');">`;
keypad = `<table align="center">
  <tr><td><input class="numeric" type="button" value="7" onclick="send('7');"></td><td><input class="numeric" type="button" value="8" onclick="send('8');"></td><td><input class="numeric" type="button" value="9" onclick="send('9');">
  </tr>
  <tr><td><input class="numeric" type="button" value="4" onclick="send('4');"></td><td><input class="numeric" type="button" value="5" onclick="send('5');"></td><td><input class="numeric" type="button" value="6" onclick="send('6');">
  </tr>
  <tr><td><input class="numeric" type="button" value="1" onclick="send('1');"></td><td><input class="numeric" type="button" value="2" onclick="send('2');"></td><td><input class="numeric" type="button" value="3" onclick="send('3');">
  </tr>
  <tr><td><input class="numeric" type="button" value=" 0 " onclick="send('0');"></td><td colspan=2>${enter}</td>
  </tr>
  <tr><td><input class="numeric" type="button" value=" ? " onclick="send('?');"></td><td colspan=2><input class="wide" type="button" value=" MAX " onclick="send('MAX', true);"></td>
  </tr>
  </table>`;
money = `<table align="center">
  <tr><td><input class="numeric" type="button" value="7" onclick="send('7');"></td><td><input class="numeric" type="button" value="8" onclick="send('8');"></td><td><input class="numeric" type="button" value="9" onclick="send('9');"></td><td><input class="platinum" type="button" value="P" onclick="send('p');"></td>
  </tr>
  <tr><td><input class="numeric" type="button" value="4" onclick="send('4');"></td><td><input class="numeric" type="button" value="5" onclick="send('5');"></td><td><input class="numeric" type="button" value="6" onclick="send('6');"></td><td><input class="gold" type="button" value="G" onclick="send('g');"></td>
  </tr>
  <tr><td><input class="numeric" type="button" value="1" onclick="send('1');"></td><td><input class="numeric" type="button" value="2" onclick="send('2');"></td><td><input class="numeric" type="button" value="3 " onclick="send('3');"></td><td><input class="silver" type="button" value="S" onclick="send('s');"></td>
  </tr>
  <tr><td colspan=2>${enter}</td><td><input class="numeric" type="button" value=" 0 " onclick="send('0');"></td><td><input class="copper" type="button" value="C" onclick="send('c');"></td>
  </tr>
  <tr><td colspan=2>${cancel}</td><td colspan=2><input class="wide" type="button" value=" MAX " onclick="send('MAX', true);"></td>
  </tr>
  </table>`;

function send(keystrokes, cr = false) {
  window.parent.postMessage({ 'func':'emit', 'message':keystrokes, 'return':cr }, '*');
}

function keypress(event) {
  var x = event.which || event.keyCode;
  send(String.fromCharCode(x));
}

function actionResize(profile) {
  window.parent.postMessage({
    'func':'size', 'message':profile }, location.href);  
}

function cmd(html) {
  document.getElementById("command").innerHTML = html;
}

function clear() {
  actionResize('small');
  cmd('');
}

function logon() {
  actionResize('small');
  cmd(`
<input class="tall" type="button" value="NEW" onclick="send('NEW', true);"> ${enter}
<p>${logoff}</p>
  `);
}

function menu() {
  actionResize('full');
  cmd(`
<input type="button" value="Arena" onclick="send('A');">
<input type="button" value="Dungeon" onclick="send('D');">
<input type="button" value="Casino" onclick="send('G');"><br>
<input type="button" value="Halls" onclick="send('L');">
<input type="button" value="Most Wanted" onclick="send('M');">
<input type="button" value="Naval" onclick="send('N');"><br>
<input type="button" value="Party" onclick="send('P');">
<input type="button" value="Rob" onclick="send('R');">
<input type="button" value="Square" onclick="send('S');"><br>
<input type="button" value="Tavern" onclick="send('T');">
<input type="button" value="Reroll" onclick="send('X');">
<input type="button" value="Status" onclick="send('Y');"><br>
<input type="button" value="System" onclick="send('Z');">
<p>${logoff}</p>
  `);
}

function arena() {
  actionResize('half');
  cmd(`
<input type="button" value="Cast" onclick="send('C');">
<input type="button" value="Poison" onclick="send('P');">
<input type="button" value="User" onclick="send('U');">
<input type="button" value="Monster" onclick="send('M');">
<input type="button" value="Joust" onclick="send('J');">
<input type="button" value="Status" onclick="send('Y');"><br>
<input class="tall" type="button" value="SQUARE" onclick="send('G');"> ${quit}
   `);
}

function square() {
  actionResize('half');
  cmd(`
<input type="button" value="Armoury" onclick="send('A');">
<input type="button" value="Weapons" onclick="send('W');">
<input type="button" value="Real Estate" onclick="send('R');">
<input type="button" value="Security" onclick="send('S');">
<input type="button" value="Mage" onclick="send('M');">
<input type="button" value="Apothecary" onclick="send('V');">
<input type="button" value="Bank" onclick="send('B');">
<input type="button" value="Hospital" onclick="send('H');">
<input type="button" value="Pick pockets" onclick="send('P');">
<input type="button" value="Jail" onclick="send('J');"><br>
<input class="tall" type="button" value="ARENA" onclick="send('G');"> ${quit}
  `);
}

function list() {
  actionResize('half');
  cmd(`
  ${keypad}
  ${cancel}
  `);
}

function bank() {
  actionResize('half');
  cmd(`
${money}
<input type="button" value="Deposit" onclick="send('D');">
<input type="button" value="Withdraw" onclick="send('W');">
<input type="button" value="Loan" onclick="send('L');">
${quit}
  `);
}

function yn() {
  actionResize('small');
  cmd(`
<p><input class="tall" type="button" value=" Yes " onclick="send('Y');"></p>
<p><input class="tall" type="button" value=" No " onclick="send('N');"></p>
  `);
}
</script>
</head>
<body onkeypress="keypress(event);">
<div id="command">Command Buttons</div>
</html>